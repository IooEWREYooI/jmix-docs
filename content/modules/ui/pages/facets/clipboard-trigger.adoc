= ClipboardTrigger
:page-aliases: backoffice-ui:facets/clipboard-trigger.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/1/sample?id=facet-clipboard-trigger" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`ClipboardTrigger` 是一个 facet，支持从界面组件中复制内容至系统剪切板。

组件的 XML 名称：`clipboardTrigger`。

[[basics]]
== 基本用法

`ClipboardTrigger` 在界面 XML 的 `facets` 元素定义，有如下属性：

[[input]] 1. `input` - 定义需要复制文本内容的组件 `id`。下列组件可以使用 `ClipboardTrigger`：

* xref:vcl/components/masked-field.adoc[]
* xref:vcl/components/password-field.adoc[]
* xref:vcl/components/resizable-text-area.adoc[]
* xref:vcl/components/rich-text-area.adoc[]
* xref:vcl/components/text-area.adoc[]
* xref:vcl/components/text-field.adoc[]

[[button]] 2. `button` - 定义触发复制动作的 xref:vcl/components/button.adoc[] `id`。

[TIP]
用 `isSupportedByWebBrowser()` 方法检查用户的浏览器是否支持内容复制。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/facets/clipboardtrigger/clipboard-trigger-screen.xml[tags=usage-example]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/facets/clipboardtrigger/ClipboardTriggerScreen.java[tags=clipboard-trigger-usage-example]
----

[[handlers]]
== 事件和处理器

include::events-handlers-generation-facet-tip.adoc[]

[[copy-event]]
=== CopyEvent

此事件在用户点击 `ClipboardTrigger` 关联的按钮时发送，事件有以下方法：

* `isSuccess()` - 如果文本内容成功复制到客户端的剪贴板，则返回 `true`。
* `getSource()` - 返回产生该事件的 `ClipboardTrigger` 对象。

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/facets/clipboardtrigger/ClipboardTriggerScreen.java[tags=clipboard-trigger-copy-event]
----

如需以编程的方式注册事件处理器，使用 facet 的 `addCopyListener()` 方法。

[[xml]]
== XML 属性

include::xml-studio-facet-tip.adoc[]

<<button, button>> -
xref:vcl/xml.adoc#id[id] -
<<input, input>>
