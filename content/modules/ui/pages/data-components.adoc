= 数据组件
:page-aliases: backoffice-ui:data-components.adoc

数据组件是界面的不可见元素，提供加载数据、绑定数据到数据感知可视化组件以及将数据保存至数据存储的功能。有以下类型数据组件：

* xref:ui:data/data-containers.adoc[Containers（数据容器）] 作为实体和具有数据感知能力的可视化组件之间粘合剂。不同类型的容器包含单一实体实例或者实体的集合。
* xref:ui:data/data-loaders.adoc[Loaders（数据加载器）] 加载数据至容器。
* xref:ui:data/data-context.adoc[DataContext（数据上下文）] 跟踪实体变更，并根据需求保存变更的实体。

通常，数据组件在界面 XML 描述的 `<data>` 元素定义：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/data/department-browse-data.xml[tags=data]
----

数据组件可以与可视化组件以相同的方式注入到控制器中：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/data/DepartmentBrowseData.java[tags=loader;name;before-show]
----

特定界面的数据组件注册在 `ScreenData` 对象中，这个对象跟控制器关联，可以通过控制器的 `getScreenData()` 方法获取。这个对象在需要加载界面所有的数据的时候很有用，示例：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/data/DepartmentEditData.java[tags=before-show]
----

NOTE: 使用 xref:ui:facets/data-load-coordinator.adoc[DataLoadCoordinator] facet 以声明式的方式将数据加载器和数据容器、可视化组件、界面事件进行关联。除非在需要设置一些加载参数的时候，才使用编程的方法，如 xref:ui:data/data-examples.adoc#using-screen-parameters-in-loaders[下面] 例子所示。
