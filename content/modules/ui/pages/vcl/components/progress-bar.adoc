= ProgressBar

++++
<div class="backoffice-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=progressbar-standard" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`ProgressBar` демонстрирует статус выполнения процесса. Прогресс может быть определенным или неопределенным. Используйте `ProgressBar`, чтобы показать текущий процесс, для завершения которого требуется заметное время.

image::vcl/components/progress-bar-background-task.gif[align="center"]

XML-имя компонента: `progressBar`.

[[determinate-process]]
== Определенный процесс

// todo add link to background tasks
В приведенном ниже примере будет использоваться механизм фоновых задач.

Смоделируем ситуацию, в которой можно отслеживать текущую стадию процесса:

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/progressbar/progress-bar-screen.xml[tags=progress-bar]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/progressbar/ProgressBarScreen.java[tags=background-tasks]
----

<1> - некая задача, требующая времени для выполнения
<2> - здесь устанавливается значение компонента, которым должно быть число типа `double` от `0.0` до `1.0`.

[[indeterminate-process]]
== Неопределенный процесс

[[indeterminate]]
Если выполняемый процесс не может передавать информацию о прогрессе, то с помощью атрибута `indeterminate` можно задать отображение неопределенного состояния индикатора. Если значение атрибута равно `true`, то индикатор отображает неопределенное состояние. По умолчанию `false`.

Например:

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/progressbar/progress-bar-screen.xml[tags=indeterminate]
----

image::vcl/components/progress-bar-indeterminate.gif[align="center"]

[[styling]]
== Стили

[[stylename]]
Чтобы изменить форму индикатора на точку, перемещающуюся по полосе, вместо растущей полосы, используйте атрибут `stylename` со значением `point`:

image::vcl/components/progress-bar-point.gif[align="center"]

По умолчанию неопределенный индикатор представляет собой горизонтальную полосу. Чтобы отобразить `ProgressBar` в виде крутящегося колесика, установите для атрибута `stylename` значение `indeterminate-circle`.

image::vcl/components/progress-bar-circle.gif[align="center"]

[[handlers]]
== События и слушатели

include::../events-hanlers-generation-tip.adoc[]

[[value-change-event]]
=== ValueChangeEvent

`ValueChangeEvent<Double>` отправляется при изменении значений компонента и имеет следующие методы:

* `getValue()` - возвращает число между `0.0` и `1.0`, соответствующее текущему статусу прогресса, где `1.0` означает выполненный процесс, а `0.0` – не начатый.
* `getPrevValue()` - возвращает такие же значения, но соответствующие статусу процесса на предыдущем этапе.

Для программной регистрации слушателя события используйте метод компонента `addValueChangeListener()`.

include::../eventsandhandlers/ContextHelpIconClickEvent.adoc[]

[[xml]]
== Все XML-атрибуты

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<indeterminate, indeterminate>> -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
<<stylename, stylename>> -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]