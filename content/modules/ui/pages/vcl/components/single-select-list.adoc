= SingleSelectList 单选列表
:page-aliases: backoffice-ui:vcl/components/single-select-list.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=singleselectlist-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`SingleSelectList - 单选列表` 组件在一个垂直滚动的列表中展示预定义的选项。`SingleSelectList` 支持用户从列表中选择单一项。

组件的 XML 名称：`singleSelectList`。

== 基本用法

满足下列情况可以使用 `SingleSelectList`：

* 用户需要从选项列表中选择一项。
* 选项的数量对与使用 `RadioButtonGroup` 来说太多了。
* 选项数量有限，且无需输入自定义值。

使用 `SingleSelectList` 最简单的场景是为 xref:data-model:entities.adoc[实体] 属性选择 xref:data-model:enumerations.adoc[枚举] 值。例如，`Customer` 实体具有 `Level` 类型的 `level` 属性，是一个枚举类型。

image::vcl/components/single-select-list.png[align="center"]

在下面的例子中，界面为 `Customer` 实体定义了 `customerDc` 数据容器，该实体有 `level` 属性。`singleSelectList` 元素中，xref:vcl/xml.adoc#data-container[dataContainer] 属性使用 `customerDc` 数据容器，xref:vcl/xml.adoc#property[property] 引用 `hobby` 实体属性。这里，实体的属性为枚举类型，下拉列表显示所有枚举值的本地化名称。

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=data-start;data-customer;data-end;layout;single-select-list;layout-end]
----

[[null-option-visible]]
`SingleSelectList` 默认在选项列表里第一项展示 null 选项。设置 `nullOptionVisible` 为 `false` 禁用该行为。

[[options]]
== 定义选项

可以在 XML 中用 `optionsContainer`、`optionsEnum` 属性配置，或在控制器中用 `setOptionsList()`、`setOptionsMap()` 和 `setOptionsEnum()` 方法设置选项列表。

[[options-container]]
=== optionsContainer

该组件可以从数据容器中获取一组选项。需使用 `optionsContainer` 属性，示例：

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=data-start;data-customers;data-end;layout;options-container;layout-end]
----

我们使用了 xref:vcl/xml.adoc#caption-property[captionProperty] 属性，因此 `customerList` 组件会展示位于 `customersDc` 数据容器内的 `Customer` 实体的 `lastName` 属性。

[[set-options-list]]
=== setOptionsList()

The `setOptionsList()` 方法可以通过代码指定选项列表。

首先在 XML 描述中声明组件：

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-list]
----

然后将组件注入界面控制器，在 `onInit()` 方法中设置选项列表：

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=reward-points-list;onInit-start;set-options-list;onInit-end]
----

组件会展示如下：

image::vcl/components/single-select-list-list.png[align="center"]

根据选择的选项，组件的 `getValue()` 方法会返回 `Integer` 值：`1000`、`2000`、`3000`、`4000`、`5000`、`6000`、`7000`。

[[set-options-map]]
=== setOptionsMap()

`setOptionsMap()` 支持为每个选项值单独设置字符串标题。

首先在 XML 描述中声明组件：

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-map]
----

然后将组件注入界面控制器，在 `onInit()` 方法中设置选项列表映射：

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=raiting-list;onInit-start;set-options-map;onInit-end]
----

组件会展示如下：

image::vcl/components/single-select-list-map.png[align="center"]

根据选择的选项，组件的 `getValue()` 方法会返回 `Integer` 值：`2`、`3`、`4`、`5`，而非展示在界面上的字符串。

[[set-options-enum]]
=== setOptionsEnum()
`setOptionsEnum()` 方法使用枚举类作为参数。下拉列表中展示枚举值的本地化名称，而组件值为枚举值。

[[options-enum]]

使用枚举类设置选项最简便的方式是使用 XML 描述中的 `optionsEnum` 属性：

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-enum]
----

[[handlers]]
== 事件和处理器

include::../events-hanlers-generation-tip.adoc[]

[[context-help-icon-click-event]]
=== ContextHelpIconClickEvent

参阅 xref:vcl/api.adoc#context-help-icon-click-handler[ContextHelpIconClickEvent]。

[[double-click-event]]
=== DoubleClickEvent

`DoubleClickEvent` 当用户双击选项时发送。

可以在界面控制器订阅该事件，示例：

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=double-click]
----

<1> `@Subscribe` 注解包含 `SingleSelectList` 的 id。
<2> 如果需要，可以从 event 对象中获取点击的选项。

[[option-caption-provider]]
=== OptionCaptionProvider

参阅 xref:vcl/api.adoc#option-caption-provider[OptionCaptionProvider]。

[[validator]]
=== Validator

参阅 xref:vcl/components/combo-box.adoc#validator[Validator]。

[[value-change-event]]
=== ValueChangeEvent

参阅 xref:vcl/api.adoc#value-change-event[ValueChangeEvent]。

[[xml]]
== SingleSelectList XML 属性

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#caption-property[captionProperty] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#data-container[dataContainer] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#editable[editable] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<null-option-visible,nullOptionVisible>> -
<<options-container,optionsContainer>> -
<<options-enum,optionsEnum>> -
xref:vcl/xml.adoc#property[property] -
xref:vcl/xml.adoc#required[required] -
xref:vcl/xml.adoc#required-message[requiredMessage] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#tab-index[tabIndex] -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]

