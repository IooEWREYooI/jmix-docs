= SingleSelectList

++++
<div class="backoffice-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=singleselectlist-simple" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`SingleSelectList` отображает предопределенные опции в виде списка с возможностью прокрутки по вертикали. `SingleSelectList` позволяет пользователям выбрать только один пункт из списка.

XML-имя компонента: `singleSelectList`.

== Основы

Используйте `SingleSelectList`, если:

* Пользователям нужно выбрать один вариант из списка.
* Опций слишком много, чтобы использовать `RadioButtonGroup`.
* Количество опций ограничено, и нет необходимости вводить пользовательские значения.

Простейший вариант использования `SingleSelectList` – выбор значения xref:data-model:enumerations.adoc[перечисления] (enum) для атрибута xref:data-model:entities.adoc[сущности]. Например, сущность `Customer` имеет атрибут `level` типа `Level`, который является перечислением.

image::vcl/components/single-select-list.png[align="center"]

Как видно из примера, в экране описывается контейнер данных `customerDc` для сущности `Customer`. В элементе `singleSelectList` в атрибуте xref:vcl/xml.adoc#data-container[dataContainer] указывается ссылка на контейнер данных `customerDc`, а атрибут xref:vcl/xml.adoc#property[property] ссылается на сущность `level`. В данном случае атрибут является перечислением, и в списке будут отображены локализованные названия всех значений этого перечисления.

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=data-start;data-customer;data-end;layout;single-select-list;layout-end]
----

[[null-option-visible]]
По умолчанию в `SingleSelectList` отображается первая нулевая опция из списка. Установите для атрибута `nullOptionVisible` значение `false`, чтобы отключить это поведение.

[[options]]
== Определение опций

Список опций можно указать либо в XML-дескрипторе, используя атрибуты `optionsContainer`, `optionsEnum`, либо программно в контроллере, используя методы `setOptionsList()`, `setOptionsMap()` и `setOptionsEnum()`.

[[options-container]]
=== optionsContainer

Компонент может принимать список опций из контейнера данных. Для этого используется атрибут `optionsContainer`. Например:

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=data-start;data-customers;data-end;layout;options-container;layout-end]
----

В данном примере использовался атрибут xref:vcl/xml.adoc#caption-property[captionProperty], поэтому компонент `customerList` будет отображать атрибут `lastName` сущности `Customer`, расположенной в контейнере данных `customersDc`.

[[set-options-list]]
=== setOptionsList()

Метод `setOptionsList()` позволяет программно задать список опций компонента.

Для этого объявим компонент в XML-дескрипторе:

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-list]
----

Затем инжектируем компонент в контроллер и в методе `onInit()` задаем ему список опций:

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=reward-points-list;onInit-start;set-options-list;onInit-end]
----

Компонент будет выглядеть следующим образом:

image::vcl/components/single-select-list-list.png[align="center"]

В зависимости от выбранной опции метод компонента `getValue()` будет возвращать значения `Integer`: `1000`, `2000`, `3000`, `4000`, `5000`, `6000`, `7000`.

[[set-options-map]]
=== setOptionsMap()

Метод `setOptionsMap()` позволяет явно задать строковые названия для каждого значения опций.

Для этого объявим компонент в XML-дескрипторе:

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-map]
----

Затем инжектируем компонент в контроллер и в методе `onInit()` задаем ему список опций:

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=raiting-list;onInit-start;set-options-map;onInit-end]
----

Компонент будет выглядеть следующим образом:

image::vcl/components/single-select-list-map.png[align="center"]

В зависимости от выбранной опции метод компонента `getValue()` будет возвращать значения `Integer`: `2`, `3`, `4`, `5`, and not the strings that are displayed on the screen.

[[set-options-enum]]
=== setOptionsEnum()
Метод `setOptionsEnum()` принимает в качестве параметра класс перечисления. Выпадающий список будет содержать локализованные названия значений перечисления, значением компонента будет являться выбранное значение перечисления.

[[options-enum]]

Простейший способ задать параметры из enum класса – использовать атрибут `optionsEnum` в XML-дескрипторе:

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/singleselectlist/singleselectlist-screen.xml[tags=options-enum]
----

[[handlers]]
== События и слушатели

include::../events-hanlers-generation-tip.adoc[]

[[context-help-icon-click-event]]
=== ContextHelpIconClickEvent

См. xref:vcl/api.adoc#context-help-icon-click-handler[ContextHelpIconClickEvent].

[[double-click-event]]
=== DoubleClickEvent

`DoubleClickEvent` отправляется, когда пользователь дважды щелкает мышью по опции списка.

Вы можете подписаться на это событие в контроллере экрана, например:

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/singleselectlist/SingleSelectListScreen.java[tags=double-click]
----

<1> Аннотация `@Subscribe` содержит идентификатор `SingleSelectList`.
<2> При необходимости можно получить нажатый элемент из объекта события.

[[option-caption-provider]]
=== OptionCaptionProvider

См. xref:vcl/api.adoc#option-caption-provider[OptionCaptionProvider].

[[validator]]
=== Validator

См. xref:vcl/components/combo-box.adoc#validator[Validator].

[[value-change-event]]
=== ValueChangeEvent

См. xref:vcl/api.adoc#value-change-event[ValueChangeEvent].

[[xml]]
== XML-атрибуты SingleSelectList

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#caption-property[captionProperty] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#data-container[dataContainer] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#editable[editable] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<null-option-visible,nullOptionVisible>> -
<<options-container,optionsContainer>> -
<<options-enum,optionsEnum>> -
xref:vcl/xml.adoc#property[property] -
xref:vcl/xml.adoc#required[required] -
xref:vcl/xml.adoc#required-message[requiredMessage] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#tab-index[tabIndex] -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]

