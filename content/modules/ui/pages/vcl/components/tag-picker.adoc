= TagPicker 标签选择
:page-aliases: backoffice-ui:vcl/components/tag-picker.adoc

`TagPicker - 标签选择器` 支持将选中的值作为标签展示。该组件由 xref:vcl/components/combo-box.adoc[ComboBox] 和 xref:vcl/components/values-picker.adoc[ValuesPicker] 组成，因此可以有下拉列表，并支持操作。另外还可以用 xref:vcl/components/tag-field.adoc[TagField] 处理标签。

image::vcl/components/tag-picker.gif[align="center"]

组件的 XML 名称：`tagPicker`。

[[data-aware-tag-picker]]
== 数据感知的 TagPicker

如需创建关联至数据的 `TagPicker`，可以用 XML 的 `dataContainer`、`property` 和 `optionsContainer` 属性。下面例子中，我们从所有职员中选出某个特定部门的职员作为展示列表：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/entity/Department.java[tags=tag-field]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/entity/Employee.java[tags=tag-field]
----

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=data;data-aware]
----

上面的例子中，界面为具有 `employee` 属性的 `Department` 实体定义了 `departmentDc` 数据容器。`dataContainer` 属性指向数据容器。`employeesDc` 中的 `Employee` 实体集合设置为 `optionsContainer` 属性，其值展示在下拉列表中。

[[meta-class]]
除了 `dataContainer` 和 `property` 属性外，还可以使用 `metaClass` 属性，支持直接用实体类型字段无需数据容器：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=meta-class]
----

[[setting-options-programmatically]]
== 编程式设置选项

如果组件未与任何实体属性关联，可以在界面控制器中编程式设置下拉列表选项值：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=data-type]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/tagpicker/TagPickerScreen.java[tags=data-type]
----

image::vcl/components/tag-picker-1.png[align="center"]

[[attributes]]
== 属性

[[tag-position]]
=== tagPosition

设置标签相对于控件本身的位置，支持下列值：

* `BOTTOM` - 默认值
+
image::vcl/components/tag-picker-bottom.png[align="center"]

* `TOP`
+
image::vcl/components/tag-picker-top.png[align="center"]

* `LEFT`
+
image::vcl/components/tag-picker-left.png[align="center"]

* `RIGHT`
+
image::vcl/components/tag-picker-right.png[align="center"]

[[inline-tags]]
=== inlineTags

定义是否在一行显示多个标签（`inlineTags=true`）：

image::vcl/components/tag-picker-inline.png[align="center"]

纵向排列（`inlineTags=false`，默认值）。

image::vcl/components/tag-picker-bottom.png[align="center"]

[[hide-selected-options]]
=== hideSelectedOptions

如果用户已经选择了某个选项，此时若 `hideSelectedOptions=false`，则该选项可继续用于选取。默认，`hideSelectedOptions=true`。

[[actions]]
== 操作

由于 `TagPicker` 是 xref:vcl/components/values-picker.adoc[ValuesPicker] 的子类，因此可以使用其父类的所有 xref:vcl/components/values-picker.adoc#actions[操作]。

注意，如果没有定义任何操作，则默认会加载 `ValueClearAction`。

[[tag-picker-action]]
=== TagPickerAction

该操作仅在 `TagPicker` 具有数据容器或 `metaClass` 属性时有效。该操作与 `LookupAction` 类似，但使用的是 `append` 值，而非 `set` 值。

该操作的另一个功能是 `multiSelect`，支持多选，默认 `multiSelect=true`。

[[handlers]]
== 事件和处理器

include::../events-hanlers-generation-tip.adoc[]

`TagPicker` 有下列事件和处理器，参阅 xref:vcl/components/tag-field.adoc#handlers[TagField]：

[[tag-caption-provider]]
=== TagCaptionProvider

参阅 xref:vcl/components/tag-field.adoc#tag-caption-provider[TagCaptionProvider]。

[[tag-click-listener]]
=== TagClickListener

参阅 xref:vcl/components/tag-field.adoc#tag-click-listener[TagClickListener]。

[[tag-comparator]]
=== TagComparator

参阅 xref:vcl/components/tag-field.adoc#tag-comparator[TagComparator]。

[[tag-style-provider]]
=== TagStyleProvider

参阅 xref:vcl/components/tag-field.adoc#tag-style-provider[TagStyleProvider]。

[[validator]]
=== Validator

参阅 xref:vcl/components/tag-field.adoc#validator[Validator]。

[[xml]]
== TagPicker XML 属性

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#data-container[dataContainer] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#editable[editable] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/components/combo-box.adoc#filter-mode[filterMode] -
xref:vcl/xml.adoc#height[height] -
<<hide-selected-options,hideSelectedOptions>> -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<inline-tags, inlineTags>> -
xref:vcl/xml.adoc#input-prompt[inputPrompt] -
<<meta-class, metaClass>> -
xref:vcl/xml.adoc#options-container[optionsContainer] -
xref:vcl/xml.adoc#property[property] -
xref:vcl/xml.adoc#required[required] -
xref:vcl/xml.adoc#required-message[requiredMessage] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#tab-index[tabIndex] -
<<tag-position, tagPosition>> -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]

== TagPicker XML 元素

<<actions,actions>> -
xref:vcl/miscellaneous/formatter.adoc[formatter] -
xref:vcl/components/tag-field.adoc#validators-element[validators]
