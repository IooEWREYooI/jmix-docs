= TagPicker

`TagPicker` позволяет отображать выбранные значения в виде тегов. Этот компонент сочетает в себе xref:vcl/components/combo-box.adoc[ComboBox] и xref:vcl/components/values-picker.adoc[ValuesPicker], имея выпадающий список и возможность работы с действиями. Для работы с тегами также можно использовать xref:vcl/components/tag-field.adoc[TagField].

image::vcl/components/tag-picker.gif[align="center"]

XML-имя компонента: `tagPicker`.

[[data-aware-tag-picker]]
== TagPicker, связанный с данными

Чтобы создать `TagPicker`, связанный с данными, нужно использовать атрибуты `dataContainer` и `property`. `optionsContainer`. В примере ниже мы выбирем из всех сотрудников компании тех, кто будут числиться за тем или иным отделом:

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/entity/Department.java[tags=tag-field]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/entity/Employee.java[tags=tag-field]
----

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=data;data-aware]
----

В приведенном выше примере у экрана есть контейнер данных `departmentDc` для сущности `Department`, у которой есть свойство `employee`. Ссылка на контейнер данных указана в атрибуте `dataContainer`. Коллекция `employeesDc` сущностей `Employee` устанавливается для атрибута `employeesDc` для отображения этих значений в раскрывающемся списке.

[[meta-class]]
Вы также можете использовать атрибут `metaClass` вместо `dataContainer` и `property`. Это позволяет использовать поле с типом сущности без контейнера данных:

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=meta-class]
----

[[setting-options-programmatically]]
== Программная настройка параметров

Если компонент не связан с атрибутом сущности, вы можете программно установить возможные значения для раскрывающегося списка на экране:

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/tagpicker/tag-picker-screen.xml[tags=data-type]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/tagpicker/TagPickerScreen.java[tags=data-type]
----

image::vcl/components/tag-picker-1.png[align="center"]

[[attributes]]
== Атрибуты

[[tag-position]]
=== tagPosition

Задает положение тегов относительно поля. Возможны следующие значения:

* `BOTTOM` - по умолчанию.
+
image::vcl/components/tag-picker-bottom.png[align="center"]

* `TOP`
+
image::vcl/components/tag-picker-top.png[align="center"]

* `LEFT`
+
image::vcl/components/tag-picker-left.png[align="center"]

* `RIGHT`
+
image::vcl/components/tag-picker-right.png[align="center"]

[[inline-tags]]
=== inlineTags

Определяет, как должны отображаться теги – в одной строке (`inlineTags=true`):

image::vcl/components/tag-picker-inline.png[align="center"]

или друг под другом (`inlineTags=false`, по умолчанию).

image::vcl/components/tag-picker-bottom.png[align="center"]

[[hide-selected-options]]
=== hideSelectedOptions

Если пользователь выбрал элемент из выпадающего списка, то при значении `hideSelectedOptions=false` он все равно будет доступен для выбора. По умолчанию `hideSelectedOptions=true`.

[[actions]]
== Действия

Так как `TagPicker` является подклассом xref:vcl/components/values-picker.adoc[ValuesPicker], он может использовать все применимые к тому xref:vcl/components/values-picker.adoc#actions[действия].

Обратите внимание, что если определенного действия нет, по умолчанию будет загружено `ValueClearAction`.

[[tag-picker-action]]
=== TagPickerAction

Это действие работает только при наличии у `TagPicker` контейнера данных или атрибута `metaClass`. Оно работает аналогично `LookupAction`, но вместо `set` использует значение `append`.

Еще одной особенностью этого действия является `multiSelect`. Он включает множественный выбор, по умолчанию `multiSelect=true`.

[[handlers]]
== События и слушатели

include::../events-hanlers-generation-tip.adoc[]

`TagPicker` имеет следующие слушатели и события, описанные в xref:vcl/components/tag-field.adoc#handlers[TagField]:

[[tag-caption-provider]]
=== TagCaptionProvider

См. xref:vcl/components/tag-field.adoc#tag-caption-provider[TagCaptionProvider].

[[tag-click-listener]]
=== TagClickListener

См. xref:vcl/components/tag-field.adoc#tag-click-listener[TagClickListener].

[[tag-comparator]]
=== TagComparator

См. xref:vcl/components/tag-field.adoc#tag-comparator[TagComparator].

[[tag-style-provider]]
=== TagStyleProvider

См. xref:vcl/components/tag-field.adoc#tag-style-provider[TagStyleProvider].

[[validator]]
=== Validator

См. xref:vcl/components/tag-field.adoc#validator[Validator].

[[xml]]
== XML-атрибуты TagPicker

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#data-container[dataContainer] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#editable[editable] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/components/combo-box.adoc#filter-mode[filterMode] -
xref:vcl/xml.adoc#height[height] -
<<hide-selected-options,hideSelectedOptions>> -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<inline-tags, inlineTags>> -
xref:vcl/xml.adoc#input-prompt[inputPrompt] -
<<meta-class, metaClass>> -
xref:vcl/xml.adoc#options-container[optionsContainer] -
xref:vcl/xml.adoc#property[property] -
xref:vcl/xml.adoc#required[required] -
xref:vcl/xml.adoc#required-message[requiredMessage] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#tab-index[tabIndex] -
<<tag-position, tagPosition>> -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]

== XML-элементы TagPicker

<<actions,actions>> -
xref:vcl/miscellaneous/formatter.adoc[formatter] -
xref:vcl/components/tag-field.adoc#validators-element[validators]