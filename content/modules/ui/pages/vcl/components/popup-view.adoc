= PopupView 弹窗视图
:page-aliases: backoffice-ui:vcl/components/popup-view.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=popupview-closing" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`PopupView - 弹窗视图` 是一个允许用户点击链接打开弹窗视图的组件。弹窗视图可以包含任何 xref:vcl/components.adoc[组件]，但只能有一个 xref:vcl/containers.adoc[布局容器]。可以配置鼠标移出时或点击外部区域来关闭弹窗。

image::vcl/components/popup-view.gif[align="center"]

组件的 XML 名称：`popupView`。

[[basics]]
== 基本用法

[[minimized-value]]
在最小化状态，组件 `minimizedValue` 属性的值会作为一个可点击的链接显示在界面，点击之后打开弹窗。

示例：

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/popupview/popup-view-screen.xml[tags=popup-view]
----

默认情况下，`hideOnMouseOut="true"`，鼠标移出弹窗时会自动关闭弹窗视图。如需通过点击外部区域关闭弹窗，设置该属性为 `false`。

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/popupview/popup-view-screen.xml[tags=popup-view-1]
----

[[popup-position]]
== 弹窗位置

下列方法可以设置弹窗位置：

1. `setPopupPosition(PopupPosition position)` - 用下列值设置弹窗位置：
* `DEFAULT` - 弹窗位于最小化值链接的中间。
* `TOP_LEFT`
* `TOP_CENTER`
* `TOP_RIGHT`
* `MIDDLE_LEFT`
* `MIDDLE_CENTER`
* `MIDDLE_RIGHT`
* `BOTTOM_LEFT`
* `BOTTOM_CENTER`
* `BOTTOM_RIGHT`

+
[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/popupview/PopupViewScreen.java[tags=position]
----

2. `setPopupPosition(int top, int left)` - 设置弹窗的 `top` 和 `left` 位置。
3. `setPopupPositionTop(int top)` - 设置弹窗的 `top` 位置。
4. `setPopupPositionLeft(int left)` - 设置弹窗的 `left` 位置。

[[handlers]]
== 事件和处理器

include::../events-hanlers-generation-tip.adoc[]

[[popup-visibility-event]]
=== PopupVisibilityEvent

`PopupVisibilityEvent` 事件会在用户打开或关闭弹窗时发送。

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/popupview/PopupViewScreen.java[tags=popup-visibility-event]
----

如需以编程的方式注册事件处理器，使用组件的 `addPopupVisibilityListener()` 方法。

[[context-help-icon-click-event]]
=== ContextHelpIconClickEvent

参阅 xref:vcl/api.adoc#context-help-icon-click-handler[ContextHelpIconClickEvent]。

编程式用法，调用组件的 `setContextHelpIconClickHandler()` 方法。

[[xml]]
== XML 属性

include::../xml-studio-tip.adoc[]

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#height[height] -
<<hide-selected-options, hideOnMouseOut>> -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
<<minimized-value, minimizedValue>> -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#tab-index[tabIndex] -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]
