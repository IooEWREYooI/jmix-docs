= 组件 API
:page-aliases: backoffice-ui:vcl/api.adoc

include::events-hanlers-generation-tip.adoc[]

[[context-help-icon-click-handler]]
== ContextHelpIconClickHandler

这个处理器在用户点击组件旁边特殊的 *?* 时调用。
点击事件的处理器优先级高于 xref:vcl/xml.adoc#context-help-text[提示文本]。即，如果设置了处理器则不会展示上下文提示文本。

下面例子中，我们创建一个输入对话框，在 `ContextHelpIconClickHandler` 内调用。对话框收集相关信息并生成地址字符串。

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/entity/address/AddressEdit.java[tags=inject-addressField;inject-dialogs;context-help-icon-click-handler]
----

image::vcl/components/context-help-handler.gif[align="center"]

如需以编程的方式注册事件处理器，使用组件的 `setContextHelpIconClickHandler()` 方法。

[[enter-press-event]]
== EnterPressEvent

`EnterPressListener` 当用户按下 *Enter（回车）* 按钮时发送：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/textfield/TextFieldScreen.java[tags=notifications;enter-press-event]
----

如需以编程的方式注册事件处理器，使用组件的 `addEnterPressListener()` 方法。

[[expanded-state-change-event]]
== ExpandedStateChangeEvent

`ExpandedStateChangeEvent` 当组件的折叠状态发生改变时发送。

下面示例为 XML 中 id 是 `filter` 的 `Filter` 订阅了该事件：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/filter/FilterScreen.java[tags=expanded-state-change-event]
----

如需以编程的方式注册事件处理器，使用组件的 `addExpandedStateChangeListener()` 方法。

[[option-caption-provider]]
== OptionCaptionProvider

`OptionCaptionProvider` 代理方法支持修改组件中选项的展示标题。

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/twincolumn/TwinColumnScreen.java[tags=option-caption-provider]
----

image::vcl/components/twin-column-caption-provider.png[align="center"]

编程式用法，调用组件的 `setOptionCaptionProvider()` 方法。

[[option-style-provider]]
== OptionStyleProvider

`OptionsStyleProvider` 代理方法支持管理组件中选项的附加样式名。

[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/combobox/ComboBoxScreen.java[tags=style-provider]
----

然后可以在应用程序主题中定义各种样式。创建主题的详细信息参阅 xref:themes.adoc[主题]。样式名在控制器中提供，加上标识每个选项的前缀，形成 CSS 选择器，示例：

[source, css,indent=0]
----
include::example$/ex1/src/main/themes/helium-extended/helium-extended.scss[tags=combo-box]
----

image::vcl/components/combo-box-style.png[align="center"]

如需以编程的方式注册选项样式 provider，使用组件的 `setOptionStyleProvider()` 方法。

[[value-change-event]]
== ValueChangeEvent

`ValueChangeEvent` 当用户完成对组件的操作时发送。例如，在按下 *Enter* 或者组件失去焦点时。支持下列方法：

* `getPrevValue()` 返回组件修改前的值。
* `getValue()` 返回组件当前值。

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/textfield/TextFieldScreen.java[tags=notifications;value-change-event]
----

如需以编程的方式注册事件处理器，使用组件的 `addValueChangeListener()` 方法。
