= TabSheet

++++
<div class="backoffice-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=tabsheet-simple" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`TabSheet` – это контейнер, позволяющий переключаться между компонентами с помощью вкладок. Вкладки организованы в виде панели вкладок в верхней части файла `TabSheet`. Щелчок по вкладке открывает содержащийся в ней компонент в основной области компоновки. Если вкладок больше, чем помещается на панели, появятся кнопки навигации.

image::vcl/containers/tab-sheet.gif[align="center"]

XML-имя компонента: `tabSheet`.

[[basics]]
== Основы

Пример использования:

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/tabsheet/tab-sheet-screen.xml[tags=tab-sheet]
----

Компонент `TabSheet` должен содержать вложенные элементы `tab`, описывающие вкладки. Каждый из `tab` представляет собой контейнер с вертикальным расположением компонентов, похожий на xref:vcl/containers/box-layout.adoc#vbox[vbox].

[[tab-sheet-attributes]]
== Атрибуты TabSheet

[[tab-caption-as-html]]
* `tabCaptionsAsHtml` - определяет, разрешен ли HTML в названиях вкладок `tab`. Возможные значения:
** `true` - названия отображаются в браузере как HTML, и разработчик несет ответственность за то, чтобы не использовался вредоносный HTML.
** `false` - по умолчанию. Содержимое отображается в браузере как обычный текст.

[[tabs-visible]]
* `tabsVisible` - устанавливает, должна ли часть выбора вкладки отображаться в пользовательском интерфейсе. Возможные значения:
** `true` - по умолчанию
** `false`

[[tab-element-attributes]]
== Атрибуты элементов Tab

* `closable` - определяет, отображается ли кнопка закрытия вкладки. Значение по умолчанию – `false`.
* `id` - устанавливает идентификатор вкладки.
+
[NOTE]
====
Обратите внимание, что вкладки не являются компонентами, и их идентификаторы используются только внутри `TabSheet` для работы с вкладками из контроллера.
====
+
* xref:vcl/xml.adoc#caption[caption]
* xref:vcl/xml.adoc#description[description]
* xref:vcl/xml.adoc#enable[enable]
* xref:vcl/xml.adoc#expand[expand]
* xref:vcl/xml.adoc#icon[icon]
* <<lazy-loading-tab-content, lazy>>
* xref:vcl/xml.adoc#margin[margin]
* xref:vcl/xml.adoc#spacing[spacing]
* xref:vcl/xml.adoc#stylename[stylename]
* xref:vcl/xml.adoc#visible[visible]

[[styles]]
== Стили TabSheet

* `centered-tabs` - центрирует вкладки внутри панели. Лучше всего, если все вкладки полностью помещаются на панели вкладок, без прокрутки.
* `compact-tabbar` -  уменьшает пробелы вокруг вкладок на панели.
* `equal-width-tabs` - выделяет одинаковое количество места для всех вкладок на панели. Названия вкладок будут обрезаны, если они не помещаются на вкладке. Прокрутка вкладок будет отключена, и все вкладки будут видны одновременно.
* `framed` - добавляет рамку вокруг всего компонента и отдельных вкладок на панели.
* `icons-on-top` - отображает значки вкладок поверх названий. По умолчанию иконки располагаются слева от подписи.
* `only-selected-closable` - кнопка закрытия видна только на выбранной вкладке. Не мешает закрыть вкладку программно; он только скрывает кнопку от пользователя.
* `padded-tabbar` - добавляет небольшой отступ вокруг вкладок на панели вкладок, чтобы они не касались внешних краев компонента.

//todo add a link to theme extension
Внешний вид `TabSheet` можно настроить с помощью переменных SCSS с префиксом `$jmix-tabsheet-*`. Вы можете изменить эти переменные в визуальном редакторе после создания расширения темы или xref:themes/custom_theme.adoc[пользовательской темы].

[[lazy-loading-tab-content]]
== Ленивая загрузка содержимого вкладки

По умолчанию вкладки не являются ленивыми, что означает, что все их содержимое загружается при открытии экрана.

Чтобы включить ленивую загрузку содержимого `tab`, установите для атрибута `lazy` элемента `tab` значение `true`.

Ленивые вкладки не загружают свое содержимое при открытии экрана. Такой подход уменьшает количество компонентов в памяти. Компоненты внутри `tab` загружаются только тогда, когда пользователь выбирает `tab`.

[NOTE]
====

//todo add link to getComponent() method
Обратите внимание, что компоненты, расположенные в ленивом `tab`, не существуют при открытии экрана. Поэтому они не могут быть добавлены к контроллеру и не могут быть получены путем вызова `getComponent()` в методе `init()` контроллера. Доступ к ленивым компонентам `tab` возможен только после того, как пользователь откроет `tab`. Вы можете подписаться на событие `SelectedTabChangeEvent` чтобы отслеживать выбор пользователем.

====

Например, давайте создадим `TabSheet` с одним ленивым `tab`. Чтобы понять, в каком состоянии находится ленивый контент `tab`, мы будем использовать label с `id="info"`.

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/tabsheet/tab-sheet-screen.xml[tags=lazy-tab]
----

[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/containers/tabsheet/TabSheetScreen.java[tags=lazy-tab]
----

В приведенном выше примере во время инициализации экрана вызывается метод `checkComponents()`. Поскольку `label2` находится в ленивой `tab`, мы не можем получить `label2` с помощью метода `getComponentNN()`. Но когда пользователь выбирает `tab2`, срабатывает `SelectedTabChangeEvent`. Мы снова попадаем в метод `checkComponents()`, и теперь можем получить значение `label2`, указанное в XML.

image::vcl/containers/tab-sheet-lazy-tab.gif[align="center"]

[[xml]]
== Все XML-атрибуты

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
<<tab-caption-as-html, tabCaptionsAsHtml>> -
xref:vcl/xml.adoc#tab-index[tabIndex] -
<<tabs-visible, tabsVisible>> -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]