= ResponsiveGridLayout
:page-aliases: backoffice-ui:vcl/containers/responsive-grid-layout.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=responsivegridlayout-equal-width" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`ResponsiveGridLayout - 响应式网格布局` 是一个容器，组件在网格内放置。网格基于 Bootstrap 的 12 列网格系统（参阅 Bootstrap https://getbootstrap.com/docs/4.5/layout/grid[文档^] 了解详情）。

组件的 XML 名称：`responsiveGridLayout`。

该布局容器的主要功能是它是完全响应式的。`ResponsiveGridLayout` 中组件的排列方式会根据界面的大小自动调整。

[CAUTION]
====
请注意，`ResponsiveGridLayout` 的 breakpoints 是基于媒体查询的最小宽度。例如，`@media(min-width: 576px)`。也就是说，组件的大小是根据浏览器窗口的大小来调整的，而非界面中的容器大小。
====

[[breakpoints]]
== 网格的 Breakpoints

网格容器由行和列组成。行由 XML 中的 `row` 元素表示，该元素内只能声明列。列用 `col` 元素表示，列内可以定义 xref:vcl/components.adoc[组件] 或其他 xref:vcl/containers.adoc[布局容器]。

[TIP]
====
如需在 Jmix Studio 中添加 `row` 或 `col` 元素，可以在界面 XML 或者 *Component Hierarchy* 面板中选择 `ResponsiveGridLayout` 组件，然后点击 *Component Inspector* 面板的 xref:studio:screen-designer.adoc#component-inspector-add-button[Add]*->Row 或 Col* 按钮。
====

`ResponsiveGridLayout` 的整个水平宽度分成 12 等份。每列可以占据一份或多份，并且支持在不同屏幕大小（或者用 Bootstrap 的术语，`breakpoints`）分别定义。Breakpoints 用 `xs`、`sm`、`md`、`lg`、`xl` 属性定义，属性值表示在这个屏幕大小时列的宽度 - 占据多少个 1/12。

下面是 breakpoints 和屏幕大小的对应关系：

[[xs]]
1. `xs` - 为特别小的屏幕，宽度小于 `576px`。Bootstrap 中的默认值。
+

[[sm]]
2. `sm` - 为小屏幕，宽度在 `576px` 和 `768px` 之间。
+

[[md]]
3. `md` - 为中等大小屏幕，宽度在 `768px` 和 `992px` 之间。
+

[[lg]]
4. `lg` - 为大屏幕，宽度在 `992px` 和 `1200px` 之间。
+

[[xl]]
5. `xl` - 为特大屏幕，宽度大于 `1200px`。

[NOTE]
Breakpoints 是按层级应用的。例如，`sm` 应用于小、中、大和超大的设备，但不能用于超小设备，超小设备由 `xs` breakpoint 表示。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=breakpoints]
----

<1> - 此列在小屏幕占据 6 份，在中等大小以上的屏幕占据 8 份。
<2> - 此列在超小屏幕和所有更大的屏幕都占据 6 份。

当屏幕宽度在 `768px` 和 `992px` 之间时，`ResponsiveGridLayout` 的内容看起来如下：

image::vcl/containers/responsive-layout-breakpoints-1.png[align="center"]

当屏幕宽度缩小至 `576px` 和 `768px` 之间时，`ResponsiveGridLayout` 的内容看起来如下：

image::vcl/containers/responsive-layout-breakpoints-2.png[align="center"]

然后，宽度小于 `576px` 时：

image::vcl/containers/responsive-layout-breakpoints-3.png[align="center"]

[NOTE]
====
出于演示的目的，我们在每个单元格使用如下样式：

[source,css,indent=0]
----
include::example$/ex1/src/main/themes/helium-extended/helium-extended.scss[tags=start;responsive-grid-layout-style;end]
----

了解更多关于样式的内容，参阅 xref:themes/custom_theme.adoc[自定义主题]。
====

[[col-element]]
== col 元素

[[equal-width]]
=== 等宽

列的定义中可以不带类似 `xs="6"` 这样的配置。如果没有这些显式的宽度配置，则在每个 breakpoint 下，列都是等宽的。此时列的宽度是按照一行中列的数量等分。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=equal-width]
----

image::vcl/containers/responsive-layout-equal-width.png[align="center"]

[[setting-one-column-width]]
=== 设置一列的宽度

如果只为其中一列设置了 breakpoint 值，那么容器的剩余宽度将由其他列平分。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=one-column-width]
----

image::vcl/containers/responsive-layout-one-column-width.png[align="center"]

[[auto-and-default-width]]
=== 自动和默认宽度

`{<<breakpoints,breakpoint>>}="AUTO"` 时，列根据其内容的自然 `width` 调整列宽。

如需创建等宽的列，请使用 `{<<breakpoints,breakpoint>>}="DEFAULT"`。这也是没有显式设置列宽时使用的默认值。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=variable-width-content]
----

image::vcl/containers/responsive-layout-variable-width.png[align="center"]

[[row-element]]
== row 元素

[[cols-attributes]]
=== cols 属性

下列属性定义在特定的 breakpoint 中每行的列数：

[[cols]]
* `cols`

[[cols-lg]]
* `colsLg`

[[cols-md]]
* `colsMd`

[[cols-sm]]
* `colsSm`

[[cols-xl]]
* `colsXl`

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=row-columns-2]
----

image::vcl/containers/responsive-layout-row-columns.png[align="center"]

[[gutters-enable]]
=== guttersEnable 属性

默认情况下，`guttersEnable="true"`。如需禁用列之间的隐藏间隔，可设置 `guttersEnable` 属性为 `false`。此时会删除 `row` 的负边距和所有直接子列的左右 padding。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=gutters]
----

image::vcl/containers/responsive-layout-gutters.png[align="center"]

[[alignment]]
== 对齐

[[vertical]]
=== 行的垂直对齐

可以用下列属性设置整行在垂直方向上的对齐方式：

[[align-items]]
* `alignItems`

[[align-items-lg]]
* `alignItemsLg`

[[align-items-md]]
* `alignItemsMd`

[[align-items-sm]]
* `alignItemsSm`

[[align-items-xl]]
* `alignItemsXl`

以上属性可以有下列值：

* `BASELINE` - `row` 内的每个 `col` 以内容的基线对齐。
* `CENTER` - `row` 内的每个 `col` 上下居中。
* `END` - `row` 内的每个 `col` 在底部对齐。
* `START` - `row` 内的每个 `col` 在顶部对齐。
* `STRETCH` - `row` 内的每个 `col` 拉升至行的高度。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=align-items]
----

image::vcl/containers/responsive-layout-align-items.png[align="center"]

[[vertical-alignment-of-column]]
=== 列的垂直对齐

`col` 本身使用下列属性在垂直方向对齐：

[[align-self]]
* `alignSelf`

[[align-self-lg]]
* `alignSelfLg`

[[align-self-md]]
* `alignSelfMd`

[[align-self-sm]]
* `alignSelfSm`

[[align-self-xl]]
* `alignSelfXl`

以上属性可以有下列值：

* `AUTO`
* `BASELINE` - `col` 按照基线对齐。
* `CENTER` - `col` 上下居中。
* `END` - `col` 在底部对齐。
* `START` - `col` 在顶部对齐。
* `STRETCH` - `col` 拉升至行的高度。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=align-self]
----

image::vcl/containers/responsive-layout-align-self.png[align="center"]

[[horizontal-alignment]]
=== 水平对齐

水平方向的对齐，可以使用下列属性：

[[justify-content]]
* `justifyContent`

[[justify-content-lg]]
* `justifyContentLg`

[[justify-content-md]]
* `justifyContentMd`

[[justify-content-sm]]
* `justifyContentSm`

[[justify-content-xl]]
* `justifyContentXl`

以上属性可以有下列值：

* `AROUND` - 左右和每个 `col` 之间都有空间。
* `BETWEEN` - 仅每个 `col` 之间有空间。
* `CENTER` - `row` 中的 `col` 左右居中。
* `END` - `row` 中的 `col` 右对齐。
* `START` - `row` 中的 `col` 左对齐。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=justify-content]
----

image::vcl/containers/responsive-layout-justify-content.png[align="center"]

[[reordering]]
== 重排序

下列属性可以控制内容的展示顺序：

[[order]]
* `order`

[[order-lg]]
* `orderLg`

[[order-md]]
* `orderMd`

[[order-sm]]
* `orderSm`

[[order-xl]]
* `orderXl`

这些属性的值可以使用特定的数字，或者预定义的 `FIRST` 或 `LAST`。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=reordering]
----

image::vcl/containers/responsive-layout-reordering.png[align="center"]

[[offset-title]]
== 偏移

下列属性可以将 `cols` 右移一定的距离：

[[offset]]
* `offset`

[[offset-lg]]
* `offsetLg`

[[offset-md]]
* `offsetMd`

[[offset-sm]]
* `offsetSm`

[[offset-xl]]
* `offsetXl`

偏移量用该属性值乘以容器宽度再除以 12 计算（即，偏移多少个 Bootstrap 列）。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=offset]
----

image::vcl/containers/responsive-layout-offset.png[align="center"]

[[default-bootstrap-styles]]
== 默认 Bootstap 样式

还可以通过 `stylename` 属性使用 bootstrap 默认的样式。例如，使用 `pl` 可以设置 padding-left，使用 `mt` 可以设置 margin-top，等等。查看 https://getbootstrap.com/docs/5.0/utilities/spacing/#notation[bootstrap spacing^] 了解更多设置。

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=responsive-classes]
----

[[attributes]]
== 属性

[[container-type]]
=== containerType

`ResponsiveGridLayout` 有两种类型

* `FLUID` - 一个全宽度的容器，占据此 breakpoint 下的整个宽度。默认类型。
* `FIXED` - 一旦屏幕宽度到达特定的 breakpoint，`ResponsiveGridLayout` 的宽度设置以下值：
. `xl` - `1140px`
. `lg` - `960px`
. `md` - `720px`
. `sm` - `540px`

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/responsivegridlayout/responsive-grid-layout-screen.xml[tags=fixed-fluid]
----

image::vcl/containers/responsive-grid-layout-fixed.gif[align="center"]

[[xml]]
== XML 属性

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#colspan[colspan] -
<<container-type, containerType>> -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#id[id] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#visible[visible]

[[row-attributes]]
=== Row 属性

<<align-items, alignItems>> -
<<align-items-lg, alignItemsLg>> -
<<align-items-md, alignItemsMd>> -
<<align-items-sm, alignItemsSm>> -
<<align-self-xl, alignItemsXl>> -
<<cols, cols>> -
<<cols-lg, colsLg>> -
<<cols-md, colsMd>> -
<<cols-sm, colsSm>> -
<<cols-xl, colsXl>> -
<<gutters-enable, guttersEnabled>> -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#id[id] -
<<justify-content, justifyContent>> -
<<justify-content-lg, justifyContentLg>> -
<<justify-content-md, justifyContentMd>> -
<<justify-content-sm, justifyContentSm>> -
<<justify-content-xl, justifyContentXl>> -
xref:vcl/xml.adoc#stylename[stylename]

[[col-attributes]]
=== Col 属性

<<align-self, alignSelf>> -
<<align-items-lg, alignSelfLg>> -
<<align-items-md, alignSelfMd>> -
<<align-items-sm, alignSelfSm>> -
<<align-self-xl, alignSelfXl>> -
<<lg, lg>> -
xref:vcl/xml.adoc#id[id]
<<md, md>> -
<<offset, offset>> -
<<offset-lg, offsetLg>> -
<<offset-md, offsetMd>> -
<<offset-sm, offsetSm>> -
<<offset-xl, offsetXl>> -
<<reordering, order>> -
<<order-lg, orderLg>> -
<<order-md, orderMd>> -
<<order-sm, orderSm>> -
<<order-xl, orderXl>> -
<<sm, sm>> -
xref:vcl/xml.adoc#stylename[stylename] -
<<xl, xl>> -
<<xs, xs>>
