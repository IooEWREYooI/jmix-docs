= GridLayout 网格
:page-aliases: backoffice-ui:vcl/containers/grid-layout.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/sampler/#main/sample?id=gridlayout-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`GridLayout - 网格布局` 支持将组件放置在网格内。

image::vcl/containers/grid-layout-simple.png[align="center"]

组件的 XML 名称：`gridLayout`。

[[basics]]
== 基本用法

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/gridlayout/grid-layout-screen.xml[tags=simple-grid-layout]
----

[[required-elements]]
== 必需元素

[[columns]]
=== columns

[[count]]
`columns` - 描述网格列。该元素需要有一个 `count` 属性或为内部的列定义 `column` 元素。在最简单的情况下，只须使用 `count` 属性设置列数即可。

如果容器宽度以像素或百分比定义，则列宽度平均分配。

[[flex-col]]
如果为每个 `column` 定义 `flex` 属性，则会非均等地分配界面空间。

下面是 `GridLayout` 的示例，其中第二和第四列占据所有额外的水平空间，且第四列占据三倍的宽度：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/gridlayout/grid-layout-screen.xml[tags=flex-grid-layout]
----

image::vcl/containers/grid-layout-flex.png[align="center"]

如果未定义 `flex`，或者设置为 0，则根据其内容设置列的宽度，此时需要至少有另一列设置了非零的 `flex`。在上面的示例中，第一列和第三列将根据最大文本长度设置宽度。

[NOTE]
====
如果需要展示剩余可用空间，整个容器宽度应设置为像素或百分比。否则，将根据内容长度计算列宽，并且 `flex` 属性不会有任何影响。
====

`column` 属性：

* xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio]
* xref:vcl/xml.adoc#colspan[colspan]
* <<flex-col, flex>>
* xref:vcl/xml.adoc#id[id]
* xref:vcl/xml.adoc#rowspan[rowspan]

[[rows]]
=== rows

[[flex-row]]
`rows` - 包含一组行。每一行都使用自己的 `row` 元素定义。`row` 元素也可以有 `flex` 属性，与 `column` 的该属性类似，影响给定总高度的网格垂直可用空间的分布。

`row` 元素应包含显示在网格当前行中的组件元素。一行中的组件数量不应超过定义的列数，但可以比定义的列数少。

示例：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/gridlayout/grid-layout-screen.xml[tags=row-flex-grid-layout]
----

image::vcl/containers/grid-layout-row-flex.png[align="center"]

在 `GridLayout` 容器中的任何组件都可以有 `xref:vcl/xml.adoc#colspan[colspan]` 和 `xref:vcl/xml.adoc#rowspan[rowspan]` 属性。这些属性设置相应组件占用的列数和行数。例如，下面就是将 `Field3` `textField` 字段增加至包含三列的方式：

[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/containers/gridlayout/grid-layout-screen.xml[tags=span-grid-layout]
----

image::vcl/containers/grid-layout-span.png[align="center"]

`row` 属性：

* xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio]
* xref:vcl/xml.adoc#colspan[colspan]
* <<flex-row, flex>>
* xref:vcl/xml.adoc#id[id]
* xref:vcl/xml.adoc#rowspan[rowspan]

[[xml]]
== XML 属性

xref:vcl/xml.adoc#align[align] -
xref:vcl/xml.adoc#box-expand-ratio[box.expandRatio] -
xref:vcl/xml.adoc#caption[caption] -
xref:vcl/xml.adoc#caption-as-html[captionAsHtml] -
xref:vcl/xml.adoc#colspan[colspan] -
xref:vcl/xml.adoc#context-help-text[contextHelpText] -
xref:vcl/xml.adoc#context-help-text-html-enabled[contextHelpTextHtmlEnabled] -
xref:vcl/xml.adoc#css[css] -
xref:vcl/xml.adoc#description[description] -
xref:vcl/xml.adoc#description-as-html[descriptionAsHtml] -
xref:vcl/xml.adoc#enable[enable] -
xref:vcl/xml.adoc#height[height] -
xref:vcl/xml.adoc#html-sanitizer-enabled[htmlSanitizerEnabled] -
xref:vcl/xml.adoc#icon[icon] -
xref:vcl/xml.adoc#id[id] -
xref:vcl/xml.adoc#margin[margin] -
xref:vcl/xml.adoc#required-indicator-visible[requiredIndicatorVisible] -
xref:vcl/xml.adoc#responsive[responsive] -
xref:vcl/xml.adoc#rowspan[rowspan] -
xref:vcl/xml.adoc#spacing[spacing] -
xref:vcl/xml.adoc#stylename[stylename] -
xref:vcl/xml.adoc#visible[visible] -
xref:vcl/xml.adoc#width[width]
