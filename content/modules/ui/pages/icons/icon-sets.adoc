= 图标集

图标集支持将可视化组件中使用的图片图标进行解耦，从使用实际的图片路径改为使用主题内的图片或者字体元素常量。同时也简化了对继承自 xref:modularity:index.adoc#subsystems[扩展组件] 中 UI 的图标进行覆盖的工作。

图标集是图标对应的枚举值。一个图标集必须实现 `Icons.Icon` 接口，并带有一个字符串类型的参数，用来表示图标源。例如，`font-icon:CHECK` 或 `icons/myawesomeicon.png`。可以使用框架提供的 `Icons` bean 获取图标源。

下面是创建图标集的过程。

. 创建一个包含图标的枚举。集合中的所有图标名称必须符合正则表达式 `[A-Z]_`，也就是说只能包含大写字母和下划线。
+
[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/icon/MyIcon.java[tags=icon-set]
----
+
<1> 覆盖 Jmix 默认图标
<2> 添加新图标

. 在 `application.properties` 文件的 xref:ui:app-properties.adoc#jmix.ui.icons-config[jmix.ui.icons-config] 属性中注册图标集：
+
[source,properties,indent=0]
----
include::example$/ex1/src/main/resources/application.properties[tags=register-icon-set]
----
. 然后可以在界面 XML 中使用声明式通过图标名称进行使用：
+
[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/button/button-screen.xml[tags=icon-set]
----
+
或者在界面控制器编程式使用：
+
[source,java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/button/ButtonScreen.java[tags=set-icon-from-set]
----

下面这些前缀支持通过声明的方式使用不同来源的图标：

* `theme` - 图标保存在当前的主题目录中，例如，`themes/helium-extended/icons/check-mark.png`：
+
[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/button/button-screen.xml[tags=icon-theme]
----
* `file` - 图标来自文件系统：
+
[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/button/button-screen.xml[tags=icon-file]
----
* `classpath` - 图标从 classpath 获取：
+
[source,xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/button/button-screen.xml[tags=icon-classpath]
----
