= 创建工作日历

工作日历可以使用带注解的 Java 接口在设计时创建，或者通过 *Business calendars（工作日历）* UI 视图在运行时创建。

== 运行时创建工作日历

打开 *Business calendars* 应用程序视图，点击 *Create* 按钮，打开 *Business calendar editor（工作日历编辑器）* 视图。

image::business-calendar-editor.png[align="center"]

输入下列参数：

* *Name* - 日历的可读描述。
* *Code* - 日历的唯一标识符。

在 *Holidays（假日）* 标签页，点击 *Create* 添加假日和周末。

image::business-calendar-holidays.png[align="center"]

该组件支持下列类型的假日：

* *Day of week（星期）* - 允许指定每周的假日；例如，星期六和星期日。
+
image::business-calendar-day-of-week.png[align="center"]

* *Specific date holiday（特定日期假日）* - 允许设置某一日期的特定假日，例如，`2022-08-03`。
+
image::business-calendar-specific-date-holiday.png[align="center"]

* *Annual holiday（年固定假日）* - 每年重复的假日，例如，`1 月 1 日`。
+
image::business-calendar-annual-holiday.png[align="center"]

* *Cron-based holiday（基于 Cron 的假日）* - 允许用 quartz CRON 格式指定特殊的假日。参阅 http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html[Cron 入门^] 了解更多信息。
+
image::business-calendar-cron-holiday.png[align="center"]
+
它可以用来指定一些重要的假期，例如，_每个月的第三个星期五_ 或 _7月的第一个星期一_ 等。

在 *Working schedule（工作日计划）* 标签页，可以为一周的每天设置工作小时数。每天可以有多个工作时段，但是这些时段不能相互覆盖。

image::working-sheduler-editor.png[align="center"]

还可以在 *Additional business days（额外工作日）* 标签页将某些假日定义为工作日。如果这样的配置的某一天属于假日，也会按照工作日考虑。

image::additional-business-day-editor.png[align="center"]

== 设计时创建工作日历

设计时可以用带注解的 Java 接口创建工作日历，示例：

[source,java,indent=0]
----
include::example$/ex1/src/main/java/businesscalendar/ex1/calendars/SampleBusinessCalendar.java[tags=business-calendar]
----

<1> 带注解的工作日历是一个使用 `@BusinessCalendar` 注解的接口。你需要为该注解指定下列参数：
* `name` - 日历的可读描述。
* `code` - 日历的唯一标识符。
<2> 指定假日 - 以 quartz CRON 格式
<3> 指定假日 - 每周固定假日。
<4> 指定假日 - 特定日期假日。
<5> 指定假日 - 每年一次的假日。
<6> 指定工作日 - 计划工作日。
<7> 指定工作日 - 额外工作日。

设计时创建的工作日历与其他日历一起在列表展示，但是只能查看，不能修改。

image::business-calendars.gif[align="center"]
