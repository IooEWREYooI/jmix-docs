= Flow UI 配置

[[common]]
== 通用配置

[[jmix.flowui.composite-menu]]
=== jmix.flowui.composite-menu

配置应用程序的菜单是否包含所有已安装的 xref:jmix:ROOT:add-ons.adoc[扩展组件] 菜单。

当设置为 `true` 时，菜单会包含应用中 `menu.xml` 的内容，以及所有扩展组件中 `menu.xml` 的内容（如果有的话）。

而设置为 `false` 时，菜单仅包含应用程序的 `menu.xml`。此时，菜单有完全自定义的灵活度，但是需要手动维护。

默认值：`true`

[[jmix.flowui.default-max-fetch-size]]
=== jmix.flowui.default-max-fetch-size

配置可以加载至 UI 层实体实例的默认最大数量。

默认值：`10000`

参阅 <<jmix.flowui.entity-max-fetch-size,jmix.flowui.entity-max-fetch-size>>。

[[jmix.flowui.default-page-size]]
=== jmix.flowui.default-page-size

对于 `pagination` 和 `simplePagination` 组件，配置显示在每页中的默认数据条数。

默认值：`50`

参阅 <<jmix.flowui.entity-page-size,jmix.flowui.entity-page-size>>。

[[jmix.flowui.entity-max-fetch-size]]
=== jmix.flowui.entity-max-fetch-size

对于某个特定实体，配置可以加载至 UI 层实例的默认最大数量。

以下示例展示如何为两个实体配置不同的最大读取数。对其他未配置该属性的实体，按照 <<jmix.flowui.default-max-fetch-size,jmix.flowui.default-max-fetch-size>> 加载。

[source,properties]
----
jmix.flowui.entity-max-fetch-size.Product = 500
jmix.flowui.entity-max-fetch-size.Customer = 1000
----

[[jmix.flowui.entity-page-size]]
=== jmix.flowui.entity-page-size

对于特定实体的 `pagination` 和 `simplePagination` 组件，配置显示在每页中的默认数据条数。

以下示例展示如何为两个实体配置不同的分页数量。对其他未配置该属性的实体，按照 <<jmix.flowui.default-page-size,jmix.flowui.default-page-size>> 加载。

[source,properties]
----
jmix.flowui.entity-page-size.Product = 100
jmix.flowui.entity-page-size.Customer = 500
----

[[jmix.flowui.main-view-id]]
=== jmix.flowui.main-view-id

配置应用程序主页面的视图 ID。

默认值：`main`。

[[jmix.flowui.menu-config]]
=== jmix.flowui.menu-config

配置 `menu.xml` 文件的路径。该文件通过 `Resources` 接口加载，因此可以位于 classpath 或者配置目录中。

示例：

[source,properties]
----
jmix.flowui.menu-config = ui/ex2/menu.xml
----

[[jmix.flowui.login-view-id]]
=== jmix.flowui.login-view-id

配置应用程序登录页面的视图 ID。

默认值：`login`。

[[jmix.flowui.save-exported-byte-array-data-threshold-bytes]]
=== jmix.flowui.save-exported-byte-array-data-threshold-bytes

配置一个下载缓存的阈值，单位为字节。在通过 `ByteArrayDownloadDataProvider` 下载时，字节数组会保存在临时文件中，避免 HTTP 会话的内存泄露。

默认值：`102400`

[[jmix.flowui.view-file-extensions]]
=== jmix.flowui.view-file-extensions

对于 `Downloader` bean，配置哪些文件后缀类型可以直接展示在浏览器而不下载。

默认值：`[htm, html, jpg, png, jpeg, pdf]`

[[jmix.flowui.view.close-shortcut]]
=== jmix.flowui.view.close-shortcut

定义关闭当前视图使用的键盘快捷键。

[[jmix.flowui.view.save-shortcut]]
=== jmix.flowui.view.save-shortcut

定义保存数据更改的键盘快捷键。

[[jmix.flowui.view.create-action-adds-first]]
=== jmix.flowui.view.create-action-adds-first

配置通过对话框创建的实体是否添加到列表的开头。

默认值：`true`

[[jmix.flowui.view.reload-unfetched-attributes-from-lookup-views]]
=== jmix.flowui.view.reload-unfetched-attributes-from-lookup-views

当从查找视图选择某个实体后，如果该实体不包含所需的全部实体属性，通过该配置指定 `LookupBuilder` 是否需要重新加载该实体。

默认值：`true`

[[jmix.flowui.view.use-save-confirmation]]
=== jmix.flowui.view.use-save-confirmation

当关闭对话框时，如果 `DataContext` 包含未保存的改动，通过该配置定义对话框显示的选项。

如果设置为 `true`，对话框包含三个选项：*Save（保存）*、*Don’t save（不保存）*、*Cancel（取消）*。

如果设置为 `false`，对话框包含仅包含两个选项：*Yes（是）* 不保存数据并关闭窗口，以及 *No（否）*，可以继续编辑。

默认值：`true`。

[[jmix.flowui.view.validation-notification-duration]]
=== jmix.flowui.view.validation-notification-duration

定义视图中数据验证错误通知的显示时间，单位为毫秒。

默认值：`3000`

[[jmix.flowui.view.validation-notification-position]]
=== jmix.flowui.view.validation-notification-position

设置数据验证通知在页面中的位置。支持：`TOP_STRETCH`、`TOP_START`、`TOP_CENTER`、`TOP_END`、`MIDDLE`、`BOTTOM_START`、`BOTTOM_CENTER`、`BOTTOM_END`、`BOTTOM_STRETCH`。

默认值：`BOTTOM_END`

[[jmix.flowui.view.validation-notification-type]]
=== jmix.flowui.view.validation-notification-type

配置视图中标准的数据验证错误通知的类型。支持 `Notifications.Type` 的枚举值：`DEFAULT`、`ERROR`、`SUCCESS`、`SYSTEM`、`WARNING`。

默认值：`DEFAULT`

[[jmix.flowui.navigation.use-crockford-uuid-encoder]]
=== jmix.flowui.navigation.use-crockford-uuid-encoder

指定是否使用 https://www.crockford.com/base32.html[Base32 Crockford Encoding^]  对 UUID URL 参数进行加解密。

默认值：`false`

[[components]]
== 组件配置

//todo: add links for AddAction, CreateAction, EditAction, ReadAction, RemoveAction

[[jmix.flowui.component.default-notification-duration]]
=== jmix.flowui.component.default-notification-duration

定义通知的显示时间，单位为毫秒。

默认值：`3000`

[[jmix.flowui.component.default-notification-position]]
=== jmix.flowui.component.default-notification-position

设置默认通知在页面中的位置。支持：`TOP_STRETCH`、`TOP_START`、`TOP_CENTER`、`TOP_END`、`MIDDLE`、`BOTTOM_START`、`BOTTOM_CENTER`、`BOTTOM_END`、`BOTTOM_STRETCH`。

默认值：`MIDDLE`

[[jmix.flowui.component.filter-auto-apply]]
=== jmix.flowui.component.filter-auto-apply

//todo: add link to Filter component

当设置为 `true` 时，`Filter` 组件以“实时”模式工作，所有一旦过滤器参数有改动都会自动重新加载数据。

当设置为 `false` 时，需要点击 *Refresh（刷新）* 按钮才会重新加载数据。

该配置可以在过滤器组件实例的级别通过配置实例的 `autoApply` XML 属性进行覆盖。

默认值：`true`

[[jmix.flowui.component.filter-properties-hierarchy-depth]]
=== jmix.flowui.component.filter-properties-hierarchy-depth

//todo: add link to Filter component
定义 `Filter` 组件中添加条件时显示的实体属性层级深度。例如，如果该值设置为 2，那么可以选择 `contractor.city.country`，如果设置为 3，可以选择 `contractor.city.country.name`。

默认值：`2`

[[jmix.flowui.component.grid-add-shortcut]]
=== jmix.flowui.component.grid-add-shortcut
//todo: add links for all actions

定义执行 AddAction 操作的键盘快捷键。

[[jmix.flowui.component.grid-create-shortcut]]
=== jmix.flowui.component.grid-create-shortcut

定义执行 CreateAction 操作的键盘快捷键。

[[jmix.flowui.component.grid-edit-shortcut]]
=== jmix.flowui.component.grid-edit-shortcut

定义执行 EditAction 操作的键盘快捷键。

默认值：`ENTER`

[[jmix.flowui.component.grid-read-shortcut]]
=== jmix.flowui.component.grid-read-shortcut

定义执行 ReadAction 操作的键盘快捷键。

默认值：`ENTER`

[[jmix.flowui.component.grid-remove-shortcut]]
=== jmix.flowui.component.grid-remove-shortcut

定义执行 RemoveAction 操作的键盘快捷键。

[[jmix.flowui.component.pagination-items-per-page-items]]
=== jmix.flowui.component.pagination-items-per-page-items

配置 `Pagination` 组件中展示的“每页显示行数”选项。

// todo add: To configure a custom list of options for a concrete instance of the `Pagination` component, use the xref:vcl/components/pagination.adoc#items-per-page-options[itemsPerPageOptions] XML attribute.

默认值：`[20, 50, 100, 500, 1000, 5000]`

[[jmix.flowui.component.picker-clear-shortcut]]
=== jmix.flowui.component.picker-clear-shortcut

// todo: clarify whether it is for certain pickers or for all picker components.
定义清空选择器组件输入内容的键盘快捷键。

[[jmix.flowui.component.picker-lookup-shortcut]]
=== jmix.flowui.component.picker-lookup-shortcut

定义选择器组件中打开选择视图的键盘快捷键。

[[jmix.flowui.component.picker-open-shortcut]]
=== jmix.flowui.component.picker-open-shortcut

定义选择器组件中打开选择以选实体的键盘快捷键。

[[background-tasks]]
== 后台任务

[[jmix.flowui.background-task.task-killing-latency]]
=== jmix.flowui.background-task.task-killing-latency

定义 xref:background-tasks.adoc[后台任务] 不更新状态时的超时时限。如果达到任务本身的超时时限加上该参数配置的时限，则尝试终止任务。如果没有指定时间后缀，默认单位为 **秒**。

默认值：`60`

[[jmix.flowui.background-task.threads-count]]
=== jmix.flowui.background-task.threads-count

配置 xref:background-tasks.adoc[后台任务] 线程数。

默认值：`10`

[[jmix.flowui.background-task.timeout-expiration-check-interval]]
=== jmix.flowui.background-task.timeout-expiration-check-interval

配置检查 xref:background-tasks.adoc[后台任务] 是否超时的间隔。如果没有指定时间后缀，默认单位为 **毫秒**。

默认值：`5000`
