= datePicker 日期选择

`datePicker` 支持用户输入日期，或者通过日历选择日期。

* XML 元素：`datePicker`

* Java 类：`TypedDatePicker`

== 基本用法

与常规输入控件不同，`datePicker` 带有一个日历按钮和一个日历选择弹窗。当用户点击按钮、点击输入框或者开始输入日期时，会自动打开日历弹窗。

image::visual-components/components/date-picker.png[align="center", width="170"]

日历支持鼠标滚动，用户可以在右侧面板快速选择年份。点击 *Today* 按钮可以直接输入今天的日期。

下面示例定义了一个带有名称的 `datePicker`：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/datepicker/date-picker-view.xml[tags=basics]
----

== 数据类型

`datePicker` 是一个带类型的组件，支持常见的日期数据类型：

* `date`
* `dateTime`
* `localDateTime`
* `offsetDateTime`
* `localDate`

默认类型为 `localDate`。如需修改类型，请使用 xref:vc/common-attributes.adoc#datatype[datatype] 属性。

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
<<autoOpen, autoOpen>> -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#clearButtonVisible[clearButtonVisible] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#dataContainer[dataContainer] -
xref:vc/common-attributes.adoc#datatype[datatype] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#errorMessage[errorMessage] -
xref:vc/common-attributes.adoc#height[height] -
xref:vc/common-attributes.adoc#invalid[invalid] -
xref:vc/common-attributes.adoc#label[label] -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<name, name>> -
<<opened, opened>> -
xref:vc/common-attributes.adoc#placeholder[placeholder] -
xref:vc/common-attributes.adoc#property[property] -
xref:vc/common-attributes.adoc#readOnly[readOnly] -
xref:vc/common-attributes.adoc#required[required] -
xref:vc/common-attributes.adoc#requiredIndicatorVisible[requiredIndicatorVisible] -
xref:vc/common-attributes.adoc#requiredMessage[requiredMessage] -
xref:vc/common-attributes.adoc#tabIndex[tabIndex] -
xref:vc/common-attributes.adoc#themeNames[themeNames] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

[[autoOpen]]
=== autoOpen

定义当用户开始输入日期时是否显示日历弹窗。

如果设置为 `true`，当用户输入、点击日期按钮或控件时会打开日历弹窗。
如果设置为 `false`，仅当用户点击按钮或字段时才会打开日历弹窗。

[[name]]
=== name

设置 HTML 元素的名称。

[[opened]]
=== opened

设置是否打开日历。

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#BlurEvent[BlurEvent] -
<<ChangeEvent, ChangeEvent>> -
<<ClientValidatedEvent, ClientValidatedEvent>> -
xref:vc/common-handlers.adoc#ComponentValueChangeEvent[ComponentValueChangeEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent] -
xref:vc/common-handlers.adoc#FocusEvent[FocusEvent] -
<<InvalidChangeEvent, InvalidChangeEvent>> -
<<OpenedChangeEvent, OpenedChangeEvent>> -
xref:vc/common-handlers.adoc#TypedValueChangeEvent[TypedValueChangeEvent] -
xref:vc/common-handlers.adoc#statusChangeHandler[statusChangeHandler] -
<<validator, validator>>

include::../handler-generation-tip.adoc[]

[[ChangeEvent]]
=== ChangeEvent
//todo: now deprecated. remove when it's removed from studio

`com.vaadin.flow.component.datepicker.GeneratedVaadinDatePicker.ChangeEvent` 对应 `change` DOM 事件。

[[ClientValidatedEvent]]
=== ClientValidatedEvent

`ClientValidatedEvent` 当在客户端完成数据验证时发送。

[[InvalidChangeEvent]]
=== InvalidChangeEvent

当组件的 <<invalid,invalid>> 属性发生变化时发送 `com.vaadin.flow.component.datepicker.DatePicker.InvalidChangeEvent`。

[[OpenedChangeEvent]]
=== OpenedChangeEvent

当组件的 `opened` 属性发生变化时发送 `OpenedChangeEvent`。即，当日期打开或关闭时。

[[validator]]
=== validator

为组件添加验证器实例。当值无效时，验证器需要抛出 `ValidationException` 异常。

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/datepicker/DatePickerView.java[tags=validator]
----

== XML 内部元素

xref:vc/components/tooltip.adoc[tooltip]

== 参考

https://vaadin.com/docs/v23/components/date-picker[Vaadin 文档^]。
