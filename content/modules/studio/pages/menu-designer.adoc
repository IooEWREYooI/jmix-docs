= Дизайнер меню

При создании нового проекта структура его главного меню сохраняется в файл `menu.xml`. Studio предоставляет визуальный дизайнер для настройки главного меню.

include::subscription-note.adoc[]

Простой способ получить доступ к структуре главного меню – использовать дерево в xref:studio:tool-window.adoc[Окне инструментов Jmix].

image::menu-open.png[align="center"]

На вкладке *Structure* можно просматривать и настраивать меню, а вкладка *Text* содержит XML-код.

image:menu-designer.png[align="center"]

В визуальном дизайнере вы можете просто перетаскивать пункты меню в дереве, чтобы изменить их расположение в структуре меню.

[[menu-modes]]
== Режимы меню

По умолчанию выбран *Composite mode*, что означает, что меню содержит элементы из файла `menu.xml` приложения и все включенных дополнений, а также унаследованные от фреймворка. Унаследованные пункты меню нельзя редактировать.

image:menu-composite.png[align="center"]

При переключении из *Composite mode* в *Single mode*, Studio предложит вам сохранить пункты меню, унаследованные от фреймворка и дополнений:

image:menu-suggest.png[align="center"]

В режиме *Single mode* меню содержит элементы только из файла `menu.xml` проекта.

image:menu-single.png[align="center"]

Если вы решите сохранить унаследованные пункты меню, их структура будет скопирована в проект и их можно будет настраивать. Если позже вы решите переключить главное меню обратно в режим *Composite*, обратите внимание, что вам нужно будет вручную удалить все дублирующиеся меню и пункты из конфигурации проекта. В противном случае меню будет сломано, так как структура меню не допускает дублирования элементов.

[[adding-menu-items]]
== Добавление пунктов меню

Чтобы добавить пункт меню, нажмите кнопку "плюс" в дизайнере. Откроется окно *Create Menu Item*.

image:menu-create-item.png[align="center"]

Возможно создать следующие типы пунктов меню:

* *Menu* – пункт меню, содержащий другие пункты. См. подробную информацию об xref:flow-ui:menu-config.adoc#menu-attributes[атрибутах меню].
* *Screen* – пункт меню, открывающий экран приложения.
* *Bean* – пункт меню, который вызывает метод управляемого бина.
* *Class* – пункт меню, который выполняет метод класса.
// todo flowui
// * *Separator* – горизонтальная линия, разделяющая пункты меню.

См. описания xref:flow-ui:menu-config.adoc#item-attributes[атрибутов пунктов] типов Screen, Bean и Class.

После создания пункта меню для открытия экрана можно настроить набор xref:flow-ui:menu-config.adoc#item-properties[свойств] для передачи публичным сеттерам экрана.

