= Дизайнер сущностей

Studio предоставляет визуальный дизайнер для упрощенного создания сущностей, поэтому вам не нужно запоминать все правила и аннотации.

[NOTE]
====
Для этой функции требуется https://www.jmix.io/subscription-plans-and-prices/[подписка^] RAD или Enterprise. Если у вас нет подписки, см. как получить xref:studio:subscription.adoc[пробную] версию.
====

Чтобы создать сущность, используйте меню в xref:studio:tool-window.adoc[Окне инструментов Jmix].

image::entity-tree.png[align="center"]

Затем просто введите имя сущности и нажмите кнопку *OK* в появившемся диалоговом окне.

image::entity-create.png[align="center"]

[[entity-editor]]
Для созданной сущности доступен визуальный редактор.

image::entity-designer.png[align="center"]

Studio отображает в редакторе три вкладки. Вместе они образуют визуальный Дизайнер сущностей:

* *Text* содержит исходный код сущности.
* *Designer* показывает структуру сущности. Вы можете добавлять атрибуты сущности, задавать имя экземпляра и валидации с помощью графического интерфейса вместо написания кода Java.
* *Indexes* отображает индексы и позволяет создавать новые.

[[adding-attributes]]
== Добавление атрибутов

Вы можете добавить атрибут, нажав кнопку *Plus* на вкладке *Designer*, и настроить его в появившемся диалоговом окне. В приведенном ниже примере добавлен атрибут `addresses` с `ASSOCIATION` в поле *Attribute type*. В этом случае для xref:data-model:entities.adoc#references[ссылки] "один-ко-многим" необходимо создать обратный атрибут в сущности `Address`.

image::entity-association.png[align="center"]

Кнопка со значком глобуса в правой части поля *Name* позволяет сразу же задать удобное для пользователя имя атрибута. Оно хранится в файле `messages.properties` и используется по умолчанию в компонентах UI.

image::entity-message.png[align="center"]

Кроме того, вы можете вызвать диалоговое окно создания атрибута на вкладке *Text*, нажав кнопку *Add attribute* на верхней панели или во всплывающем окне *Generate*.

image::entity-generate.png[align="center"]

[[creating-instance-name]]
== Создание имени экземпляра

Studio автоматически задает xref:data-model:entities.adoc#instance-name[имя экземпляра] для сущности, когда к ней добавляется атрибут с одним из следующих имен: `name`, `title`, `caption`, `label`, `summary`, `description`, `firstName`, `lastName`, `middleName`.

image::entity-instance-auto.png[align="center"]

Если вы хотите задать другие атрибуты для генерации имени экземпляра, используйте визуальный конструктор. Его можно открыть нажав кнопку со значком карандаша в поле *Instance name*.

image::entity-instance-editor.png[align="center"]

Имя экземпляра также можно создать на вкладке *Text*. Наведите курсор на имя класса, нажмите *Alt+Enter* (⌥↩) и выберите *Add instance name*.

image::entity-instance-text.png[align="center"]

[[enumerations]]
== Перечисления

Studio помогает работать с перечислениями, предоставляя набор действий и визуальный конструктор. Используйте меню в Окне инструментов Jmix для создания перечисления.

image::entity-tree.png[align="center"]

После создания перечисления его класс будет открыт в редакторе с двумя вкладками.

image::entity-enum-editor.png[align="center"]

* *Text* содержит исходный код.
* *Designer* показывает дизайнер перечислений, в котором вы можете настроить перечисление и его значения с помощью графического интерфейса вместо написания кода Java.

Используйте таблицу *Values* и связанные с ней кнопки для настройки констант перечисления.

* Колонка *Name* позволяет ввести имя константы перечисления, которое будет использоваться в коде. Его можно переименовать позже, не затрагивая существующие данные в базе данных.
* Колонка *Value* позволяет ввести идентификатор константы перечисления. Это фактическое значение, хранящееся в базе данных.

Кнопка глобуса позволяет задать локализованные надписи для выбранной константы перечисления.

Дизайнер также предоставляет возможность изменять тип идентификатора, используемый перечислением, со `String` на `Integer` и наоборот. Studio мигрирует используемые перечисления в коде. После этого вам нужно изменить значения существующих констант перечисления.

[NOTE]
====
Такая миграция не переносит значения перечисления, уже сохраненные в таблицах базы данных; вам будет нужно реализовать такую миграцию самостоятельно.
====



